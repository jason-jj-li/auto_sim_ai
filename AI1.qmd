---
title: "LLM-Powered Research Simulation Platform"
subtitle: "Survey Testing, Intervention Analysis & Scenario Exploration"
author: "李佳佳"
institute: "北京大学人口研究所"
date: "2025/10/24"
format:
  beamer:
    theme: metropolis
    colortheme: default
    aspectratio: 169
    pdf-engine: xelatex
    section-titles: true
    toc: false
fontsize: 10pt
header-includes: |
  % Chinese support & math
  \usepackage{ctex}
  \usepackage{amsmath,amssymb,mathtools}
  \usepackage{booktabs,graphicx}
  \usepackage{listings}
  \usepackage{fontspec}
  \usepackage{pifont}
  \usepackage{tikz}
  \usetikzlibrary{shapes,arrows,positioning,calc,backgrounds,fit}
  % Robust cross-platform font setup (Latin + CJK) with fallbacks
  \IfFontExistsTF{TeX Gyre Termes}{\setmainfont{TeX Gyre Termes}}{\setmainfont{Times New Roman}}
  \IfFontExistsTF{TeX Gyre Heros}{\setsansfont{TeX Gyre Heros}}{\setsansfont{Arial}}
  \IfFontExistsTF{Fira Code}{\setmonofont{Fira Code}}{\setmonofont{Menlo}}
  % CJK main/sans with fallbacks
  \IfFontExistsTF{Noto Serif CJK SC}{\setCJKmainfont{Noto Serif CJK SC}}{%
    \IfFontExistsTF{Source Han Serif SC}{\setCJKmainfont{Source Han Serif SC}}{%
      \IfFontExistsTF{PingFang SC}{\setCJKmainfont{PingFang SC}}{%
        \IfFontExistsTF{Songti SC}{\setCJKmainfont{Songti SC}}{\setCJKmainfont{SimSun}}}}}
  \IfFontExistsTF{Noto Sans CJK SC}{\setCJKsansfont{Noto Sans CJK SC}}{%
    \IfFontExistsTF{Source Han Sans SC}{\setCJKsansfont{Source Han Sans SC}}{%
      \IfFontExistsTF{PingFang SC}{\setCJKsansfont{PingFang SC}}{%
        \IfFontExistsTF{Heiti SC}{\setCJKsansfont{Heiti SC}}{\setCJKsansfont{SimHei}}}}}
  % Modern color palette (PKU-inspired)
  \definecolor{PKURed}{HTML}{990000}
  \definecolor{Ink}{HTML}{111827}
  \definecolor{Slate}{HTML}{6B7280}
  \setbeamercolor{normal text}{fg=Ink}
  \setbeamercolor{structure}{fg=PKURed}
  \setbeamercolor{progress bar}{fg=PKURed,bg=Slate!30}
  \metroset{numbering=counter,progressbar=frametitle,block=fill}
  % Clean bullets
  \setbeamertemplate{itemize item}{\raise0.6pt\hbox{\small\textbullet}}
  \setbeamertemplate{itemize subitem}{\raise0.4pt\hbox{\footnotesize\textbullet}}
  % Compact spacing
  \setlength{\parskip}{0.35em}
---

## 1 • AI Revolution in Research: The New Paradigm

::: columns
::: column
**The AI Research Transformation**

- **2010s**: Data science & ML
  - Predictive models, pattern recognition
  - Limited generative capability
- **2020s**: Generative AI & LLMs
  - GPT-3 (2020): 175B parameters
  - ChatGPT (2022): Mass adoption
- **2023+**: LLMs as research tools
  - Simulation, synthesis, analysis
  - New methodological possibilities

**Impact**: Research cycle compressed  
Months → Weeks → Days
:::

::: column
\begin{tikzpicture}
  \draw[->,ultra thick,PKURed] (0,0) -- (4.5,0);
  
  \fill[Slate!40] (0.8,0) circle (0.25);
  \node[above,font=\footnotesize] at (0.8,0.4) {2010s};
  \node[below,font=\tiny] at (0.8,-0.4) {ML};
  
  \fill[PKURed!50] (2.3,0) circle (0.35);
  \node[above,font=\footnotesize] at (2.3,0.5) {2020s};
  \node[below,font=\tiny] at (2.3,-0.4) {GPT};
  
  \fill[PKURed!70] (3.8,0) circle (0.45);
  \node[above,font=\footnotesize] at (3.8,0.6) {2023+};
  \node[below,font=\tiny] at (3.8,-0.4) {Tools};
\end{tikzpicture}

\vspace{0.5cm}

\textbf{\color{PKURed} Today's Focus}

LLM-powered platform for:
\begin{itemize}
\item Survey pretesting
\item Intervention simulation
\item Scenario exploration
\end{itemize}
:::
:::

---

## 2 • Why LLMs for Survey Research?

::: columns
::: column
**Traditional Method Pain Points**

- **High Cost**: \$5K-50K per pretest cycle
- **Time-Consuming**: 3-8 weeks minimum
- **Sample Limits**: Only 20-50 cognitive interviews
- **Recruitment Challenges**: Hard-to-reach demographics
- **Iteration Barrier**: Each revision = new cost cycle

\vspace{0.4cm}

**LLM Solution Benefits**

- **Cost**: \$0 (local LLM) vs. \$5K-50K
- **Speed**: Hours vs. weeks
- **Scale**: Unlimited iterations at no marginal cost
- **Diversity**: Any demographic profile on demand
- **Reproducibility**: Perfect experimental control
- **Flexibility**: Test multiple versions simultaneously
:::

::: column
\vspace{0.3cm}
\begin{tikzpicture}
  % Traditional cost bar
  \fill[Slate!50] (0,3.5) rectangle (4,4.0);
  \node[font=\small] at (2,3.75) {Traditional Pretest: \$50K};
  
  % LLM cost bar
  \fill[PKURed!60] (0,2.5) rectangle (0.4,3.0);
  \node[right,font=\small] at (0.5,2.75) {LLM Simulation: \$0};
  
  % Arrow showing cost reduction
  \draw[->,ultra thick,PKURed,line width=2pt] (4.3,3.75) -- (4.3,2.75);
  \node[right,font=\Large,PKURed] at (4.5,3.25) {\textbf{99\%↓}};
  
  % Time comparison
  \node[font=\small,Slate,align=left] at (2,1.8) {\textbf{Time Savings}};
  \draw[Slate,thick] (0,1.5) -- (4,1.5);
  \node[font=\footnotesize] at (2,1.1) {Traditional: 3-8 weeks};
  \node[font=\footnotesize,PKURed] at (2,0.7) {LLM: 2-4 hours};
  
  % Sample size comparison
  \node[font=\small,Slate,align=left] at (2,0.1) {\textbf{Sample Flexibility}};
  \draw[Slate,thick] (0,-0.2) -- (4,-0.2);
  \node[font=\footnotesize] at (2,-0.6) {Traditional: 20-50 participants};
  \node[font=\footnotesize,PKURed] at (2,-1.0) {LLM: Unlimited personas};
  
  % Iteration capability
  \node[font=\small,Slate,align=left] at (2,-1.6) {\textbf{Iteration Speed}};
  \draw[Slate,thick] (0,-1.9) -- (4,-1.9);
  \node[font=\footnotesize] at (2,-2.3) {Traditional: 1-2 cycles/project};
  \node[font=\footnotesize,PKURed] at (2,-2.7) {LLM: 10+ versions/day};
\end{tikzpicture}
:::
:::

---

## 3 • The Science: How LLMs Learn Human Patterns

::: columns
::: column
**Foundation: Statistical Language Models**

LLMs learn probability distributions over language:

$$P(\text{next word} \mid \text{context})$$

**Training Data**: Trillions of tokens from:
- Books, articles, conversations
- Social media, forums, reviews
- Professional & academic texts

**What Emerges**:
- Linguistic patterns & syntax
- World knowledge & reasoning
- Cultural norms & perspectives
- Demographic correlations
:::

::: column
**Key Correlations Learned**

\vspace{0.3cm}

\begin{tikzpicture}[scale=0.9]
  % Age correlations
  \node[font=\small,PKURed] at (0,3) {\textbf{Age} $\leftrightarrow$};
  \node[font=\footnotesize,align=left,right] at (1.5,3) {
    Technology attitudes\\
    Political views\\
    Health concerns
  };
  
  % Occupation correlations
  \node[font=\small,PKURed] at (0,1.8) {\textbf{Occupation} $\leftrightarrow$};
  \node[font=\footnotesize,align=left,right] at (1.5,1.8) {
    Daily routines\\
    Stress sources\\
    Value priorities
  };
  
  % Education correlations
  \node[font=\small,PKURed] at (0,0.6) {\textbf{Education} $\leftrightarrow$};
  \node[font=\footnotesize,align=left,right] at (1.5,0.6) {
    Language complexity\\
    Information seeking\\
    Critical thinking
  };
  
  % Culture correlations
  \node[font=\small,PKURed] at (0,-0.6) {\textbf{Culture} $\leftrightarrow$};
  \node[font=\footnotesize,align=left,right] at (1.5,-0.6) {
    Communication styles\\
    Social norms\\
    Decision patterns
  };
\end{tikzpicture}
:::
:::

---

## 4 • Persona-Based Simulation: The Key Mechanism

::: columns
::: column
**How Persona Prompting Works**

1. **Define Demographics**
   - Age, gender, occupation, education
   - Geographic & cultural context

2. **Add Psychological Traits**
   - Values, beliefs, attitudes
   - Life experiences & concerns

3. **LLM Synthesizes Response**
   - Activates relevant patterns
   - Generates persona-consistent answers

**Example Prompt**:
```
You are a 40-year-old social worker
Location: Urban California
Values: Social justice, equality
Focus: Child welfare cases
Concern: Burnout & compassion fatigue
```
:::

::: column
**Response Quality Factors**

\vspace{0.5cm}

\begin{tikzpicture}[scale=0.9]
  % Persona specificity
  \node[font=\small,align=left] at (0,3.5) {\textbf{Persona Specificity}};
  \draw[Slate,thick] (0,3.2) -- (5,3.2);
  \fill[PKURed!70] (0,2.9) rectangle (4.5,3.2);
  \node[font=\tiny,right] at (4.6,3.05) {High detail = Better};
  
  % Prompt clarity
  \node[font=\small,align=left] at (0,2.3) {\textbf{Prompt Clarity}};
  \draw[Slate,thick] (0,2.0) -- (5,2.0);
  \fill[PKURed!70] (0,1.7) rectangle (4.2,2.0);
  \node[font=\tiny,right] at (4.3,1.85) {Clear context};
  
  % Model capability
  \node[font=\small,align=left] at (0,1.1) {\textbf{Model Size}};
  \draw[Slate,thick] (0,0.8) -- (5,0.8);
  \fill[PKURed!70] (0,0.5) rectangle (3.8,0.8);
  \node[font=\tiny,right] at (3.9,0.65) {70B+ params};
  
  % Domain training
  \node[font=\small,align=left] at (0,-0.1) {\textbf{Domain Coverage}};
  \draw[Slate,thick] (0,-0.4) -- (5,-0.4);
  \fill[PKURed!70] (0,-0.7) rectangle (4.0,-0.4);
  \node[font=\tiny,right] at (4.1,-0.55) {Training diversity};
\end{tikzpicture}

\vspace{0.5cm}

**Validation**: Compare LLM responses with real human data on:
- Response distributions
- Internal consistency
- Demographic patterns
:::
:::

---

## 5 • Evidence: Do LLM Simulations Work?

::: columns
::: column
**Support: Replications & Capabilities**

- **Aher et al. (2023)** - *ICML/PMLR*
  - LLMs reproduce human patterns in classic experiments
  - Ultimatum, Milgram variants (with caveats)
  
- **Park et al. (2023)** - *UIST*
  - Multi-agent town simulation
  - Emergent social behavior via memory–reflection–planning
  
- **Akata et al. (2025)** - *Nature Human Behaviour*
  - Human-like strategies in repeated 2×2 games
  - GPT-4 stronger in self-interest, weaker in coordination
  
- **Argyle et al. (2025)** - *PNAS*
  - Political persuasion theory testing
  - Preregistered experiments via LLMs
:::

::: column
**Limitations & Validity Risks**

- **Dominguez-Olmedo et al. (2024)** - *NeurIPS*
  - Strong ordering/labeling biases
  - After controls → uniform randomness

- **Salecha et al. (2024)** - *PNAS Nexus*
  - Social desirability bias in Big Five
  - Construct validity concerns
  
- **Bisbee et al. (2024)** - *Political Analysis*
  - Aggregate matches hide subgroup errors
  - NOT drop-in human substitutes
  
- **Gao et al. (2025)** - *PNAS*
  - Conceptual & empirical cautions
  - Rigorous validation required

\vspace{0.3cm}
**\textcolor{PKURed}{Bottom Line:}** Useful for exploration & pretesting, NOT for population inference
:::
:::

---

## 6 • Platform Architecture: Three-Layer Design

::: columns
::: column
**Layer 1: Research Interface**

- Web-based GUI (no coding required)
- 4 workflow pages: Setup → Simulate → Results → Microsim
- Real-time progress tracking
- Interactive parameter tuning

**Layer 2: Simulation Engine**

- Two modes: Survey vs. Intervention
- Persona-based response generation
- Automated scoring & validation
- Checkpoint system for long runs

**Layer 3: LLM Backend**

- 100% local processing (LM Studio)
- Zero API costs, full privacy
- Model-agnostic (7B-70B+ supported)
:::

::: column
\begin{tikzpicture}[scale=1.0]
  % Three layers with actual workflow
  \fill[PKURed!20] (0,3.5) rectangle (5,4.5);
  \node[font=\small] at (2.5,4) {Research Interface};
  \node[font=\tiny] at (2.5,3.7) {Personas → Questions → Analysis};
  
  \fill[PKURed!40] (0,2.2) rectangle (5,3.2);
  \node[font=\small] at (2.5,2.7) {Simulation Engine};
  \node[font=\tiny,align=center] at (2.5,2.4) {Survey/Intervention Logic\\Scoring \& Validation};
  
  \fill[PKURed!60] (0,0.9) rectangle (5,1.9);
  \node[font=\small] at (2.5,1.4) {LLM Backend};
  \node[font=\tiny] at (2.5,1.1) {Local LM Studio Server};
  
  % Data flow arrows
  \draw[->,ultra thick] (2.5,3.5) -- (2.5,3.2);
  \draw[->,ultra thick] (2.5,2.2) -- (2.5,1.9);
  
  % Key innovation box
  \fill[Slate!20,rounded corners] (0,0.2) rectangle (5,0.7);
  \node[font=\small] at (2.5,0.45) {\textbf{Key Innovation:} Personas as experimental units};
  
  % Data storage
  \node[font=\tiny,align=center] at (2.5,-0.3) {Results → CSV/JSON/R/Python/SPSS};
\end{tikzpicture}

\vspace{0.3cm}

**Research Workflow**: Define personas → Design study → Run simulation → Analyze results
:::
:::

---

---

## 7 • Survey Mode: Direct Q&A Research

\begin{columns}[c]
\begin{column}{0.55\textwidth}
\textbf{Core Purpose}

Ask questions directly to synthetic personas—like running a traditional survey, but with LLM-powered virtual participants

\vspace{0.3cm}

\textbf{Technical Implementation}

\begin{itemize}
\item Sequential question presentation
\item Per-question or global validation rules
\item Full conversation history tracking
\end{itemize}

\vspace{0.3cm}

\textbf{Key Features}

\begin{itemize}
\item \textbf{Validated Templates}: PHQ-9 with auto-scoring
\item \textbf{Custom Questions}: LLM generated questions in any survey format
\item \textbf{Response Validation}: Enforce scales (1-7) or free text
\item \textbf{Survey Context}: Add instructions/framing
\end{itemize}
\end{column}

\begin{column}{0.43\textwidth}
\textbf{Example Use Case}

\begin{tikzpicture}
  \node[draw,fill=PKURed!10,rounded corners,text width=4.5cm,font=\tiny] at (0,0) {
    \textbf{Research Question:}\\
    Do PHQ-9 response patterns differ by age group?
  };
  
  \node[draw,fill=blue!10,text width=4.5cm,font=\tiny,align=left] at (0,-1.3) {
    \textbf{Setup:}\\
    • 100 personas (age 18-80)\\
    • Load PHQ-9 template (9 items)\\
    • 4-point Likert validation
  };
  
  \node[draw,fill=green!10,text width=4.5cm,font=\tiny,align=left] at (0,-2.5) {
    \textbf{Results:}\\
    • 900 responses (100×9)\\
    • Auto-calculated PHQ-9 scores\\
    • Age-stratified distributions\\
    • Internal consistency (Cronbach's α)
  };
  
  \node[font=\tiny,PKURed] at (0,-3.4) {\textbf{Time:} ~6 minutes (with cache: ~2.5 min)};
\end{tikzpicture}

\vspace{0.3cm}

\textbf{\textcolor{PKURed}{Perfect For:}}
\begin{itemize}
\item Survey pretesting before field deployment
\item Instrument validation \& refinement
\item Opinion polling \& needs assessment
\item Comparing question wording variations
\end{itemize}
\end{column}
\end{columns}

---

---

## 8 • Message Testing Mode: Intervention Reactions

\begin{columns}[c]
\begin{column}{0.55\textwidth}
\textbf{Core Purpose}

Present intervention messages/scenarios \textit{first}, then capture personas' reactions and attitudes—test messaging before real deployment

\vspace{0.3cm}

\textbf{Technical Implementation}

\begin{itemize}
\item Message shown before follow-up questions
\item Conversation history maintained
\item Open-ended \& structured responses
\end{itemize}

\vspace{0.3cm}

\textbf{Workflow Difference vs. Survey Mode}

\begin{enumerate}
\item[\ding{182}] \textbf{Present Intervention Text}: Show message/policy/scenario
\item[\ding{183}] \textbf{Immediate Reaction}: Responds to intervention
\item[\ding{184}] \textbf{Follow-up Questions}: Ask about attitudes, comprehension, intent
\item[\ding{185}] \textbf{Analysis}: Qualitative themes + quantitative metrics
\end{enumerate}
\end{column}

\begin{column}{0.43\textwidth}
\textbf{Example Use Case}

\begin{tikzpicture}
  \node[draw,fill=Slate!15,rounded corners,text width=4.5cm,font=\tiny] at (0,0) {
    \textbf{Research Question:}\\
    Which vaccine message frame is most persuasive?
  };
  
  \node[draw,fill=blue!10,text width=4.5cm,font=\tiny,align=left] at (0,-1.4) {
    \textbf{Intervention Text:}\\
    "New COVID-19 vaccine reduces severe illness by 90\%. Approved by FDA. Free at local clinics."
  };
  
  \node[draw,fill=orange!10,text width=4.5cm,font=\tiny,align=left] at (0,-2.6) {
    \textbf{Follow-up Questions:}\\
    1. What's your reaction?\\
    2. Would you get vaccinated?\\
    3. What concerns do you have?
  };
  
  \node[draw,fill=green!10,text width=4.5cm,font=\tiny,align=left] at (0,-3.8) {
    \textbf{Analysis:}\\
    • Sentiment by demographics\\
    • Acceptance rates\\
    • Common concerns/barriers\\
    • Framing recommendations
  };
\end{tikzpicture}

\vspace{0.2cm}

\textbf{\textcolor{Slate}{Perfect For:}}
\begin{itemize}
\item Communication strategy testing
\item Public health messaging
\item Policy proposal reactions
\item Marketing copy evaluation
\end{itemize}
\end{column}
\end{columns}

---

---

## 9 • A/B Testing Mode: Experimental Comparison

\begin{columns}[c]
\begin{column}{0.55\textwidth}
\textbf{Core Purpose}

Rigorous experimental design to compare multiple intervention conditions with statistical inference—simulate RCTs before field trials

\vspace{0.3cm}

\textbf{Technical Implementation}

\begin{itemize}
\item \texttt{Condition} dataclass: ID, name, text, allocation
\item Random or stratified assignment
\item Parallel simulation execution
\end{itemize}

\vspace{0.3cm}

\textbf{Experimental Controls}

\begin{itemize}
\item \textbf{Randomization}: Automatic with seed control
\item \textbf{Stratification}: Balance by demographics (age, gender, etc.)
\item \textbf{Allocation Weights}: Unequal group sizes if needed
\item \textbf{Same Parameters}: Identical temperature/tokens across conditions
\end{itemize}
\end{column}

\begin{column}{0.43\textwidth}
\textbf{Example: Framing Study}

\begin{tikzpicture}
  \node[draw,fill=green!10,rounded corners,text width=4.5cm,font=\tiny] at (0,0) {
    \textbf{Design:} 3 conditions, N=20 per group
  };
  
  \node[draw,fill=blue!5,text width=4.5cm,font=\tiny,align=left] at (0,-1.0) {
    \textbf{Condition A (Gain):}\\
    "Policy will create 10,000 jobs"
  };
  
  \node[draw,fill=blue!5,text width=4.5cm,font=\tiny,align=left] at (0,-1.7) {
    \textbf{Condition B (Loss):}\\
    "Policy prevents 10,000 job losses"
  };
  
  \node[draw,fill=blue!5,text width=4.5cm,font=\tiny,align=left] at (0,-2.4) {
    \textbf{Condition C (Neutral):}\\
    "Policy affects 10,000 jobs"
  };
  
  \node[draw,fill=orange!10,text width=4.5cm,font=\tiny,align=left] at (0,-3.3) {
    \textbf{Measure:} Support (1-7 scale)\\
    \textbf{Analysis:} One-way ANOVA\\
    \textbf{Result:} Gain frame > Neutral > Loss\\
    $p < 0.01$, $\eta^2 = 0.24$ (large effect)
  };
\end{tikzpicture}

\vspace{0.2cm}

\textbf{\textcolor{green!50!black}{Perfect For:}}
\begin{itemize}
\item Message framing experiments
\item Intervention optimization
\item Pre-registering hypotheses
\item Power analysis \& sample size
\end{itemize}
\end{column}
\end{columns}

---

---

## 10 • Microsimulation: The Core Loop

\begin{columns}[c]
\begin{column}{0.58\textwidth}

\begin{tikzpicture}[
  box/.style={draw,rounded corners,minimum height=0.9cm,minimum width=5cm,align=center,font=\footnotesize},
  arrow/.style={->,>=stealth,thick}
]

% Main simulation loop
\node[box,fill=blue!20] (init) at (0,0) {\textbf{Initialize Cohort}\\{\tiny 10,000 agents with StateVector}};

\node[box,fill=orange!15] (transition) at (0,-1.4) {\textbf{Natural History Transitions}\\{\tiny Healthy → Sick → Dead}};

\node[box,fill=purple!15] (policy) at (0,-2.8) {\textbf{Check Eligibility}\\{\tiny Age? Condition? Income?}};

\node[box,fill=PKURed!20] (llm) at (0,-4.2) {\textbf{LLM Predict Behavior}\\{\tiny Enroll? Adherence?}};

\node[box,fill=green!15] (effects) at (0,-5.6) {\textbf{Apply Effects \& Track}\\{\tiny Costs, QALYs, outcomes}};

% Arrows
\draw[arrow] (init) -- (transition);
\draw[arrow] (transition) -- (policy);
\draw[arrow] (policy) -- (llm);
\draw[arrow] (llm) -- (effects);
\draw[arrow] (effects.east) -- ++(0.8,0) |- node[right,font=\tiny,pos=0.22] {Loop} (transition.east);

\end{tikzpicture}

\end{column}

\begin{column}{0.40\textwidth}

\textbf{StateVector Attributes:}
\begin{itemize}
\item Demographics
\item Health conditions
\item Mental health scores
\item Healthcare costs
\item Behavioral factors
\end{itemize}

\vspace{0.3cm}

\textbf{\textcolor{PKURed}{LLM Innovation:}}

Replace fixed probabilities with \textit{persona-specific} predictions

\vspace{0.3cm}

\textbf{Key Modules:}
\begin{itemize}
\item \texttt{TransitionKernel}
\item \texttt{PolicyEngine}
\item \texttt{LLMBehaviorPredictor}
\item \texttt{MicrosimRunner}
\end{itemize}

\end{column}
\end{columns}

---

## 11 • LLM Behavioral Prediction: The Innovation

\begin{columns}[c]
\begin{column}{0.48\textwidth}
\begin{center}
\textbf{\textcolor{gray}{Traditional Approach}}
\end{center}

\begin{tikzpicture}
\node[draw,fill=gray!10,rounded corners,text width=4.8cm,font=\footnotesize,minimum height=1.2cm] at (0,0) {
  \textbf{Fixed Probability:}\\
  \texttt{baseline\_takeup = 0.70}\\
  70\% of eligible enroll
};

\node[draw,fill=gray!10,rounded corners,text width=4.8cm,font=\footnotesize,minimum height=1.2cm] at (0,-1.8) {
  \textbf{Problem:}\\
  Ignores individual context\\
  (income, health, beliefs)
};

\node[draw,fill=red!10,rounded corners,text width=4.8cm,font=\footnotesize,minimum height=1.4cm] at (0,-3.5) {
  \textbf{Example:}\\
  Poor person, \$12K debt\\
  \textcolor{red}{Still 70\% enroll chance}\\
  {\tiny (Unrealistic!)}
};
\end{tikzpicture}

\end{column}

\begin{column}{0.48\textwidth}
\begin{center}
\textbf{\textcolor{PKURed}{LLM-Driven Approach}}
\end{center}

\begin{tikzpicture}
\node[draw,fill=blue!10,rounded corners,text width=4.8cm,font=\footnotesize,minimum height=1.2cm] at (0,0) {
  \textbf{Persona Context:}\\
  StateVector → Language\\
  "58, diabetic, low income..."
};

\node[draw,fill=orange!10,rounded corners,text width=4.8cm,font=\footnotesize,minimum height=1.2cm] at (0,-1.8) {
  \textbf{LLM Query:}\\
  "Will you enroll?"\\
  Returns JSON + reasoning
};

\node[draw,fill=green!10,rounded corners,text width=4.8cm,font=\footnotesize,minimum height=1.4cm] at (0,-3.5) {
  \textbf{Example:}\\
  \texttt{\{will\_enroll: false,\\
  reasoning: "Cost too high",\\
  confidence: 0.75\}}
};
\end{tikzpicture}

\end{column}
\end{columns}

\vspace{0.4cm}

\begin{center}
\begin{tikzpicture}
\node[draw,fill=PKURed!15,rounded corners,text width=0.88\textwidth,font=\footnotesize,align=left] at (0,0) {
  \textbf{Key Advantage:} Captures \textit{heterogeneous behavioral responses} based on individual circumstances—not population averages. LLM provides \textbf{reasoning} and \textbf{confidence}, enabling interpretable simulations.
};
\end{tikzpicture}
\end{center}

---

---

## 12 • Personas: Your Synthetic Participants

**Core Concept**: Each persona = one virtual participant in your study

::: columns
::: column
**Persona Components**

```json
{
  "demographics": {
    "age": 42,
    "gender": "female",
    "occupation": "social worker",
    "education": "Master's degree"
  },
  "psychological": {
    "personality": "empathetic, anxious",
    "values": "social justice, equity",
    "concerns": "burnout, work-life balance"
  },
  "context": {
    "location": "Urban California",
    "background": "15 years child welfare"
  }
}
```
:::

::: column
**Generation Methods**

1. **Synthetic Generator**
   - Specify N and distributions
   - Age (normal/uniform)
   - Gender, occupation (categorical)
   - Auto-generate personality traits

2. **Manual Creation**
   - Full CRUD in web interface
   - Copy/edit templates
   - Import from CSV/JSON

3. **Import Existing**
   - Load persona sets
   - Version control friendly

\vspace{0.3cm}

**Why Personas Matter**: More detailed personas → More realistic responses → Better insights
:::
:::

---

## 13 • Real-World Applications & Use Cases

::: columns
::: column
**1. Survey Development**

- **Pretest questions** before field deployment
- **Test wording variations** (e.g., "stressed" vs. "overwhelmed")
- **Compare response scales** (5-point vs. 7-point)
- **Identify confusing items** early
- **Estimate response distributions** for power analysis


**2. Intervention Design**

- **Test message variations** (framing effects)
- **A/B test campaign materials** before launch
- **Explore subgroup reactions** (age, gender, culture)
- **Refine communication strategies**
- **Predict acceptance/resistance patterns**

**Example**: Test public health messaging about vaccines across different demographic personas
:::

::: column
**3. Policy Exploration**

- **Scenario planning** ("What if...?")
- **Stakeholder perspective analysis**
- **Impact forecasting** (qualitative patterns)
- **Communication strategy development**
- **Political feasibility assessment**

**Example**: Explore reactions to universal basic income across income/occupation groups

\vspace{0.3cm}

**4. Education & Training**

- **Teach research methods** without IRB
- **Demonstrate survey design principles**
- **Practice data analysis workflows**
- **Explore bias and validity issues**
- **Safe experimentation environment**

:::
:::

\vspace{0.3cm}

**\textcolor{PKURed}{Key Benefit}**: Rapid iteration at zero marginal cost—fail fast, learn quickly, refine continuously

---

## 14 • Reproducibility, Ethics & Limitations

::: columns
::: column
**Reproducibility Standards**

Every simulation logs:
- Timestamp & duration
- Persona details
- Question text & parameters
- LLM model & version
- Temperature & sampling settings
- Full response history

**Result**: Perfect experimental control—rerun with exact conditions anytime

\vspace{0.3cm}

**Ethical Practice**

- ✓ No human subjects risk
- ✓ No privacy concerns (all local)
- ✓ No API costs or data sharing
- ✓ Open source & transparent
- ✓ Bias documentation included
:::

::: column
**Critical Limitations**

\begin{tikzpicture}
  \fill[red!20,rounded corners] (0,2.5) rectangle (5,3.3);
  \node[font=\footnotesize,align=left,red!80!black] at (0.2,2.9) {
    \textbf{NOT a replacement for human data}
  };
  
  \fill[orange!20,rounded corners] (0,1.6) rectangle (5,2.3);
  \node[font=\tiny,align=left] at (0.2,1.95) {
    \textbf{Use for:} Exploration, pretesting,\\
    hypothesis generation, teaching
  };
  
  \fill[orange!20,rounded corners] (0,0.7) rectangle (5,1.4);
  \node[font=\tiny,align=left] at (0.2,1.05) {
    \textbf{NOT for:} Population inference,\\
    causal claims, final validation
  };
  
  \fill[green!20,rounded corners] (0,-0.2) rectangle (5,0.5);
  \node[font=\tiny,align=left] at (0.2,0.15) {
    \textbf{Always:} Validate findings with\\
    real participants before conclusions
  };
\end{tikzpicture}

\vspace{0.3cm}

**Role**: Complement, not replace, traditional methods
:::
:::

**Best Practice**: Use simulations to refine instruments, then deploy to real humans for final validation

---

## 15 • Installation & Requirements

**Prerequisites**

Python 3.8+, 8GB RAM, LM Studio, GPU optional

**Quick Install**

```bash
git clone [repo]
cd auto_sim
pip install -r requirements.txt
streamlit run app.py
```

**Ready in 2 minutes** • ~20 dependencies • Full docs included

---

## 16 • Status & Roadmap

\begin{center}
\begin{tikzpicture}
  % Progress bar
  \draw[thick,fill=Slate!10] (0,0) rectangle (10,0.7);
  \fill[PKURed!60] (0,0) rectangle (8.5,0.7);
  \node[white,font=\bfseries\large] at (4.25,0.35) {85\% Complete};
\end{tikzpicture}
\end{center}

\vspace{0.3cm}

\begin{columns}[T]
\column{0.33\textwidth}
\textbf{Implemented}

Both modes • 4 instruments • Statistics • Caching • A/B testing • Quality tools

\column{0.33\textwidth}
\textbf{In Progress}

Parallel processing • Batch API calls • Enhanced UI

\column{0.33\textwidth}
\textbf{Future}

Database backend • Multi-model benchmarking • Advanced viz

\end{columns}

---

## Thank You • Questions?

**Production Streamlit App**  
20+ modules • 5000+ lines • Research-ready

**Purpose**  
Survey pretesting • Intervention testing • Scenario exploration

**Contact**  
lijiajia95@pku.edu.cn • 北京大学人口研究所

